<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SnapTag - Save Images</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="logo">
        <img src="icons/icon32.png" alt="SnapTag" class="logo-icon">
        <h1>SnapTag</h1>
      </div>
      <button id="openApp" class="open-app-btn" title="Open SnapTag App">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
          <polyline points="15,3 21,3 21,9"></polyline>
          <line x1="10" y1="14" x2="21" y2="3"></line>
        </svg>
      </button>
    </div>

    <!-- Main Content -->
    <div id="mainContent" class="main-content">
      <!-- Quick Save Section -->
      <div class="section">
        <h3>Quick Save Current Page</h3>
        <div class="quick-actions">
          <button id="saveAllImages" class="action-btn primary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <circle cx="8.5" cy="8.5" r="1.5"></circle>
              <polyline points="21,15 16,10 5,21"></polyline>
            </svg>
            Find & Save Images
          </button>
          <button id="scanPage" class="action-btn secondary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
            Scan Page
          </button>
        </div>
      </div>

      <!-- Recent Images Section -->
      <div class="section">
        <h3>Recent Saves</h3>
        <div id="recentImages" class="recent-images">
          <div class="loading">Loading recent images...</div>
        </div>
      </div>
    </div>

    <!-- Image Selection Modal -->
    <div id="imageModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Save Images</h3>
          <button id="closeModal" class="close-btn">&times;</button>
        </div>
        <div class="modal-body">
          <div class="save-options">
            <input type="text" id="modalTitle" placeholder="Title (optional)" class="form-input">
            <textarea id="modalDescription" placeholder="Description (optional)" class="form-textarea"></textarea>
            <div class="tags-input-container">
              <input type="text" id="modalTags" placeholder="Tags (comma separated)" class="form-input">
            </div>
          </div>
          <div id="imageGrid" class="image-grid"></div>
        </div>
        <div class="modal-footer">
          <button id="saveSelectedImages" class="action-btn primary">Save Selected</button>
          <button id="cancelSave" class="action-btn secondary">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
      <div class="spinner"></div>
      <p>Saving images...</p>
    </div>

    <!-- Status Messages -->
    <div id="statusMessage" class="status-message hidden"></div>
  </div>

  <script src="popup.js"></script>
</body>
</html> 